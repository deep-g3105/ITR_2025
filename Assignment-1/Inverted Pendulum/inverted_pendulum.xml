<mujoco model="inverted_pendulum">
  <compiler angle="degree" coordinate="local"/>
  <option gravity="0 0 -9.81" integrator="RK4" timestep="0.002"/>
  <size njmax="100" nconmax="100"/>

  <default>
    <joint damping="0.05" armature="0.0" limited="true" range="-179 179"/>
    <geom  condim="3" friction="0.5 0.1 0.1" solref="0.002 1"/>
    <motor ctrlrange="-10 10"/>
  </default>

  <asset>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512"
             rgb1="0.2 0.3 0.4" rgb2="0.1 0.1 0.1"/>
    <material name="mat_plane" texture="grid" texrepeat="8 8" reflectance="0.2"/>
    <material name="mat_rod" rgba="0.8 0.85 0.9 1"/>
    <material name="mat_mass" rgba="0.9 0.3 0.3 1"/>
  </asset>

  <worldbody>
    <!-- Ground -->
    <geom name="floor" type="plane" pos="0 0 0" size="10 10 1" material="mat_plane"/>

    <!-- Base -->
    <body name="base" pos="0 0 0">
      <joint name="hinge" type="hinge" pos="0 0 0" axis="0 1 0"/>

      <!-- Massless rod: purely visual (mass=0 so not counted in dynamics) -->
      <geom name="rod" type="capsule" fromto="0 0 0  0 0 1.0" size="0.01" mass="0" material="mat_rod"/>

      <!-- Point mass at tip -->
      <body name="mass_tip" pos="0 0 1.0">
        <geom name="mass_sphere" type="sphere" size="0.05" density="7800" material="mat_mass"/>
      </body>
    </body>
  </worldbody>

  <!-- Actuator -->
  <actuator>
    <motor name="hinge_motor" joint="hinge" gear="1"/>
  </actuator>

  <!-- Slight initial tilt -->
  <keyframe>
    <key name="slight_tilt" qpos="0.05"/>
  </keyframe>

  <!-- Sensors -->
  <sensor>
    <jointpos name="q" joint="hinge"/>
    <jointvel name="qd" joint="hinge"/>
  </sensor>
</mujoco>

